@model Evaluation.UI.Models.AF1_32VM
@{
	ViewData["Title"] = "Businnes";
	ViewData["SubTitle"] = "Group Health";
}
<link href="~/assets/extra-libs/datatables.net-bs4/css/dataTables.bootstrap4.css"
	  rel="stylesheet" />
<link rel="stylesheet"
	  type="text/css"
	  href="~/assets/extra-libs/datatables.net-bs4/css/responsive.dataTables.min.css" />

<link rel="stylesheet" type="text/css" href="~/lib/datatableAddons/css/colvis.css">
<link href="~/assets/libs/sweetalert2/dist/sweetalert2.min.css"
	  rel="stylesheet" />
<style>
	/* Style for selected row */
	.selected {
		background-color: yellow;
	}

</style>
<div class="col-12">
	<div class="card">
		<div class="border-bottom title-part-padding">
			<div class="row">
				<div class="col-7"><h4 class="card-title mb-0">@Model.ContactVM.FirstName @Model.ContactVM.MiddleName @Model.ContactVM.LastName</h4></div>
				<div class="col-5">
					<div class="" style="float: right;">
						<button type="button" id="btnDashboard" class="btn btn-danger" title="Get Back to Dashboard">
							<i class="m-1 fas  fa-angle-left"></i>
						</button>
						<button type="button" id="btnConsolidation" class="btn btn-secondary">
							Consolidation
						</button>
					</div>
				</div>
			</div>
		</div>
		<div>
			<table id="tInssurredParty" style="width:100%" class="responsive table table-bordered  table-hover compact">
			</table>
		</div>
		<div class="card-body wizard-content">
			<form id="step1from" class="validation-slip wizard-circle">
				<!-- Step 1 -->
				<h6>Details AF1</h6>
				<section>
					<input type="hidden" id="BusinessLineCode">
					<input type="hidden" id="ContactId" value="@Model.ContactVM.RecId">
					<div class="row">
						<div class="col-5 "></div>
						<div class="col-7 ">
							<div class="" style="float: right;">
								<button type="button" id="btnSubmit" class=" hide
                        btn btn-success
					  " title="Save Data">
									<i class="m-1 fas fa-plus"></i>Submit
								</button>

								<button type="button" id="btnUploadExcel" class="hide
                        btn btn-primary
					  " title="Upload Application Form Excel">
									<i class="m-1 fas fa-upload"></i>Upload AF
								</button>
								<button type="button" id="btnSubmitWithEmail" class="hide
                        btn btn-info
					  " title="Send AF To Client">
									<i class="m-1 fas fa-envelope"></i>Send AF
								</button>
								<button type="button" id="btnSendEmailExcel" class="
                        btn btn-secondary
					  " title="Export Data to excel file">
									<i class="m-1 fas fa-download"></i>Export Data
								</button>
								<button type="button" id="btnDownloadEmptyExcel" class="hide
                        btn btn-secondary
					  " title="Download Empty Application Form Template">
									<i class="m-1 fas fa-download"></i>Download AF
								</button>
							</div>
						</div>
						<input type="file" id="fileInput" name="file" accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" style="display: none">
						<input type="file" id="fileInputStep4" name="file" accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" style="display: none">
						<input type="file" id="fileInputStep5" name="file" accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" style="display: none">
					</div>
					<div class="">
						<table id="tableAf132" style="width:100%" class="responsive table table-bordered compact">

							<tbody id="table-body">
							</tbody>
						</table>
					</div>
				</section>
				<!-- Step 2 -->
				<h6>Summary AF1 by Category</h6>
				<section>
					<div class="row">
						<div class="col-5 "> </div>
						<div class="col-7 ">
							<div class="" style="float: right;">
								<button type="button" id="btnSubmitStep2" class="
                        btn btn-success
					  " title="Save all the data in this step">
									<i class="m-1 fas fa-plus"></i> Submit
								</button>
							</div>
						</div>

					</div>
					<table id="tStep2" style="width:100%" class="table table-bordered compact"></table>
				</section>
				<!-- Step 3 -->
				<h6>Categories & Sections</h6>
				<section>
					<div class="row">
						<div class="col-5 "> </div>
						<div class="col-7 ">
							<div class="" style="float: right;">
								<button type="button" id="btnSubmitStep3" class="
                        btn btn-success
					  " title="Save all the data in this step">
									<i class="m-1 fas fa-plus"></i> Submit
								</button>
							</div>
						</div>

					</div>
					<table id="tStep3" style="width:100%" class="display responsive  table-bordered table compact"></table>
				</section>
				<!-- Step 4 -->
				<h6>Benefits</h6>
				<section>
					<div class="row">
						<div class="col-5 "> </div>
						<div class="col-7 ">
							<div class="" style="float: right;">
								<button type="button" id="btnDownloadEmptyExcelStep4" class="
                        btn btn-secondary
					  " title="Download Empty Application Form Template">
									<i class="m-1 fas fa-download"></i>Download Template
								</button>
								<button type="button" id="btnUploadStep4" class="
                        btn btn-primary
					  " title="Upload Application Form Excel">
									<i class="m-1 fas fa-upload"></i>Upload
								</button>
								<button type="button" id="btnStep4ExportData" class="
                        btn btn-secondary
					  " title="Export Data to excel file">
									<i class="m-1 fas fa-download"></i>Export Data
								</button>
								<button type="button" id="btnSubmitStep4" class="
                        btn btn-success
					  " title="Save all the data in this step">
									<i class="m-1 fas fa-plus"></i> Submit
								</button>
							</div>
						</div>

					</div>
					<table id="tStep4" style="width:100%" class="table-bordered table compact ">
					</table>
				</section>
				<!-- Step 5 -->
				<h6>Prices</h6>
				<section>
					<div class="row">
						<div class="col-5 "> </div>
						<div class="col-7 ">
							<div class="" style="float: right;">
								<button type="button" id="btnPrintCq" class="hide
                        btn btn-secondary
					  ">
									Print CQ
								</button>
								<button type="button" id="btnDownloadEmptyExcelStep5" class="
                        btn btn-secondary
					  " title="Download Empty Application Form Template">
									<i class="m-1 fas fa-download"></i>Download Template
								</button>
								<button type="button" id="btnUploadStep5" class="
                        btn btn-primary
					  " title="Upload Application Form Excel">
									<i class="m-1 fas fa-upload"></i>Upload
								</button>
								<button type="button" id="btnStep5ExportData" class="
                        btn btn-secondary
					  " title="Export Data to excel file">
									<i class="m-1 fas fa-download"></i>Export Data
								</button>
								<button type="button" id="btnSubmitStep5" class="
                        btn btn-success
					  " title="Save all the data in this step">
									<i class="m-1 fas fa-plus"></i> Submit
								</button>
							</div>
						</div>

					</div>
					<br />
					<div class="row">

						<div class="col-md-4">
							<div class="mb-3">
								<label for="CommisinOnGPPer">Commisin On GP % </label>
								<input type="text" class="form-control" id="CommisinOnGPPer" />
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								<label for="AdminFeesAmount">Admin Fees  </label>
								<input type="text" class="form-control" id="AdminFeesAmount" />
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								<label for="CostOfPolicyPer">Cost Of Policy % </label>
								<input type="text" class="form-control" id="CostOfPolicyPer" />
							</div>
						</div>
					</div>

					<div class="row">

						<div class="col-md-4">
							<div class="mb-3">
								<label for="CostOfPolicyAmount">Cost Of Policy </label>
								<input type="text" class="form-control" id="CostOfPolicyAmount" />
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								<label for="FixedTaxesAmount">Fixed Taxes  </label>
								<input type="text" class="form-control" id="FixedTaxesAmount" />
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								<label for="FixedTaxesPer">Fixed Taxes % </label>
								<input type="text" class="form-control" id="FixedTaxesPer" />
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<div class="mb-3">
								<label for="VATPer">VAT % </label>
								<input type="text" class="form-control" id="VATPer" />
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								<label class="control-label">Age Calculation</label>
								<div class="form-check">
									<input type="radio" id="AgeCalculationYear" name="customRadio" class="form-check-input" checked>
									<label class="form-check-label" for="AgeCalculationYear">Year</label>
								</div>
								<div class="form-check">
									<input type="radio" id="AgeCalculationFullDate" name="customRadio" class="form-check-input">
									<label class="form-check-label" for="AgeCalculationFullDate">Full Date</label>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3 fulldate hide">
								<label class="form-check-label" for="AgeCalculationStartDate">Full Date</label>
								<input type="date" class="form-control hide" id="AgeCalculationStartDate" />
							</div>
						</div>
					</div>

					<table id="tStep5" style="width:100%" class="table-bordered table compact ">
					</table>
				</section>
			</form>
		</div>
	</div>
</div>
<!-- Add Row Modal step 2-->
<div id="modalStep2" class="modal  fade " tabindex="-1" role="dialog"
	 aria-hidden="true">
	<div class="modal-dialog modal-lg ">

		<div class="modal-content">
			<!-- Modal Header -->
			<div class="modal-header">
				<h4 class="modal-title">Summary AF1 by Category</h4>
			</div>

			<!-- Modal body -->
			<form id="formModelStep2">
				<div class="modal-body">


					<div class="row">
						<!-- Label -->
						<div class="col-md-6">
							<div class="md-2"><lable>Category:</lable><input type="text" class="form-control" id="txtCategory" disabled></div>
							<div class="md-3"><lable>Members</lable></div>
							<div class="md-6"> <input type="text" class="form-control" id="txtMembers" disabled></div>
							<div class="md-3"><lable>Grade</lable></div>
							<div class="md-6"> <input type="text" class="form-control" id="txtGrade" disabled></div>
							<div class="md-3"><lable>Class</lable></div>
							<div class="md-6"> <input type="text" class="form-control" id="txtClass" disabled></div>
							<div class="md-3"><lable>AMB</lable></div>
							<div class="md-6"> <input type="text" class="form-control" id="txtAMB" disabled></div>
							<div class="md-3"><lable>PM</lable></div>
							<div class="md-6"> <input type="text" class="form-control" id="txtPM" disabled></div>
							<div class="md-3"><lable>DV</lable></div>
							<div class="md-6"> <input type="text" class="form-control" id="txtDV" disabled></div>
							<div class="md-3"><lable>Dental</lable></div>
							<div class="md-6"> <input type="text" class="form-control" id="txtDental" disabled></div>
							<div class="md-3"><lable>Optical</lable></div>
							<div class="md-6"> <input type="text" class="form-control" id="txtOptical" disabled></div>
							<div class="md-3"><lable>AML</lable></div>
							<div class="md-3">
								<div class="input-group">
									<input type="number" class="form-control" id="txtAmount" placeholder="Amount">
									<button class="
                          btn btn-light-secondary
                          text-secondary
                          font-weight-medium
						" type="button" onclick="addNumberToValue('txtAmount',999999999)" title="Add 999999999 to AML">
										Max
									</button>
								</div>
							</div>
						</div>
						<!-- Edit -->
						<div class="col-md-6">

							<div class="md-3"><lable><b><u>Existing Members</u></b></lable></div>

							<div class="md-3"><lable>No Underwriting</lable></div>
							<div class="md-3">
								<select class="form-select" id="ddlE_NoUnderwriting">
									<option value="true" selected>Yes</option>
									<option value="false">No</option>
								</select>
							</div>
							<div class="md-3"><lable>Continuity</lable></div>
							<div class="md-3">
								<select class="form-select" id="ddlE_Continuity">
									<option value="true" selected>Yes</option>
									<option value="false">No</option>
								</select>
							</div>
							<div class="md-3"><lable>No Waiting Period</lable></div>
							<div class="md-3">
								<input type="text" class="form-control" id="txtE_NoWaitingPeriod" />
							</div>
							<div class="md-3"><lable>Renewability</lable></div>
							<div class="md-3">
								<select class="form-select" id="ddlE_Renewability">
									<option value="true" selected>Yes</option>
									<option value="false">No</option>
								</select>
							</div>
							<div class="md-3"><lable><b><u>New Members</u></b></lable></div>

							<div class="md-3"><lable>No Underwriting</lable></div>
							<div class="md-3">
								<select class="form-select" id="ddlN_NoUnderwriting">
									<option value="true" selected>Yes</option>
									<option value="false">No</option>
								</select>
							</div>
							<div class="md-3"><lable>Continuity</lable></div>
							<div class="md-3">
								<select class="form-select" id="ddlN_Continuity">
									<option value="true" selected>Yes</option>
									<option value="false">No</option>
								</select>
							</div>
							<div class="md-3"><lable>No Waiting Period</lable></div>
							<div class="md-3">
								<input type="text" class="form-control" id="txtN_NoWaitingPeriod" />
							</div>
							<div class="md-3"><lable>Renewability</lable></div>
							<div class="md-3">
								<select class="form-select" id="ddlN_Renewability">
									<option value="true" selected>Yes</option>
									<option value="false">No</option>
								</select>
							</div>
						</div>
					</div>
				</div>
			</form>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger" id="btnCloseModalStep2"
						data-bs-dismiss="modal">
					Close
				</button>
				<button id="btnSaveModalStep2" class="btn btn-success">Save</button>
			</div>

		</div>
	</div>
</div>
<!-- Add Row Modal step 3-->
<div id="modalStep3" class="modal fade" tabindex="-1" role="dialog"
	 aria-hidden="true">
	<div class="modal-dialog">

		<div class="modal-content">
			<!-- Modal Header -->
			<div class="modal-header">
				<h4 class="modal-title">Categories & Sections</h4>
			</div>

			<!-- Modal body -->
			<form id="formModelStep3">
				<div class="modal-body">
					<div class="row">
						<div class="md-3"><lable>Category</lable></div>
						<div class="md-6"> <input type="text" class="form-control" id="txtCategoryStep2" disabled></div>
						<div class="md-3"><lable>Section</lable></div>
						<div class="md-6"> <input type="text" class="form-control" id="txtSection" disabled></div>
						<div class="md-3"><lable>TerritorialScope</lable></div>
						<div class="md-6">
							<select class="form-select " required id="txtTerritorialScope" name="txtTerritorialScope">
								<option value="">--Select--</option>
								@foreach (var item in Model.Territorias)
								{
									<option value="@item.RecId">@item.Description </option>
								}

							</select>
						</div>
						<div class="md-3"><lable>Class</lable></div>
						<div class="md-6"> <input type="text" class="form-control" id="txtClassStep2" disabled></div>
						<div class="md-3"><lable>Co Insurance Per.</lable></div>
						<div class="md-6"> <input type="number" class="form-control" id="txtCoInsurancePer"></div>
						@*    <div class="md-3"><lable>Co Insurance Amt</lable></div>
						<div class="md-6"> <input type="number" class="form-control" id="txtCoInsuranceAmt"></div> *@
						<div class="md-3"><lable>Limit Amount</lable></div>
						<div class="md-3">
							<div class="input-group">
								<input type="number" class="form-control" id="txtLimitAmount" placeholder="Amount">
								<button class="
                          btn btn-light-secondary
                          text-secondary
                          font-weight-medium
						" type="button" onclick="addNumberToValue('txtLimitAmount',999999999)" title="Add 999999999">
									Max
								</button>
							</div>
						</div>
						<div class="md-3"><lable>Network Level</lable></div>
						<div class="md-6">
							<select class="form-select " required id="txtNetworkLevel" name="txtNetworkLevel">
								<option value="">--Select--</option>
								@foreach (var item in Model.Networks)
								{
									<option value="@item.RecId">@item.Description </option>
								}

							</select>
						</div>
						<div class="md-3"><lable>Network </lable></div>
						<div class="md-6">
							<select class="form-select " required id="txtNetwork" name="txtNetwork">
								@*  <option value="">--Select--</option>
								@foreach (var item in Model.ProductDetailsPOINetwork)
								{
								<option value="@item.RecId">@item.NetworkName - @item.NetworkExplanation </option>
								} *@

							</select>
						</div>
						<div class="md-3"><lable>Covered</lable></div>
						<div class="md-3">
							<select class="form-select" id="ddlCovered">
								<option value="true" selected>Yes</option>
								<option value="false">No</option>
							</select>
						</div>
					</div>

				</div>
			</form>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger" id="btnCloseModalStep3"
						data-bs-dismiss="modal">
					Close
				</button>
				<button id="btnSaveModalStep3" class="btn btn-success">Save</button>
			</div>

		</div>
	</div>
</div>

@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}
	<!--This page JavaScript -->
	<script src="~/assets/libs/jquery-steps/build/jquery.steps.min.js"></script>
	<script src="~/assets/extra-libs/datatables.net/js/jquery.dataTables.min.js"></script>
	<script src="~/assets/extra-libs/datatables.net-bs4/js/dataTables.responsive.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.html5.min.js"></script>
	<script type="text/javascript" src="~/lib/datatableAddons/js/colvis.js"></script>
	<script src="~/js/shared/wizard.js"></script>


	<script>
		var relationList = @Html.Raw(Json.Serialize(Model.Relations));
		var genderList = @Html.Raw(Json.Serialize(Model.Genders));
		var maritalStatusList = @Html.Raw(Json.Serialize(Model.MaritalStatuses));
		var regionList = @Html.Raw(Json.Serialize(Model.Regions));
		var classOfCoverageList = @Html.Raw(Json.Serialize(Model.ProductClassOfCoverage));
		var datatablelist;
		var step2Data;
		var step3Data;
		var step4Data;
		var step5Data;
		var step5InsurrerData = @Html.Raw(Json.Serialize(Model.Insurer));
		var step5ThirdPartyData = @Html.Raw(Json.Serialize(Model.ThirdPartyAdmin));
		var territorias = @Html.Raw(Json.Serialize(Model.Territorias));
		var networks = @Html.Raw(Json.Serialize(Model.Networks));
		var details = @Html.Raw(Json.Serialize(Model.SalesTransactionBL321110Details));
		var networkpoi = @Html.Raw(Json.Serialize(Model.ProductDetailsPOINetwork));
		var detailsPrices = @Html.Raw(Json.Serialize(Model.SalesTransactionBL321110DetailsPrices));
		maritalStatusList.push({ "recId": 10, "code": "A", "description": "All", "isActive": true });
		genderList.push({ "recId": 3, "code": "A", "description": "All", "isActive": true });
	</script>
	<script src="~/js/transaction/detailed321110.js"></script>
}